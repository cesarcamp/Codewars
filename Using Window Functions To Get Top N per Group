
/*

select 
  category_id, category, title, views, post_id 
from 
  (select c.id as "category_id", c.category, p.title,p.views,p.id as post_id,
  rank() over (partition by c.id 
                order by c.category desc, p.views desc, p.id asc)
  from 
      categories c 
  left join 
      posts p on c.id = p.category_id) as rank_filter 
where 
  rank <= 2
order by 
  category asc, views desc, post_id asc;
  
 */
